<!DOCTYPE html>
 <html>
   <head>
     <!--Import Google Icon Font-->
     <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
     <!--Import materialize.css-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

     <!--Let browser know website is optimized for mobile-->
     <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
   </head>

   <body>
     <nav>
   <div class="nav-wrapper">
     <a href="index.html" class="brand-logo center">Amirah Club</a>
     <ul id="nav-mobile" class="right hide-on-med-and-down">
     </ul>
   </div>
 </nav>

     <div class="container">

       <div class="section"></div>
       <div class="row">

         <div class="col s12 m12">
           <div class="card ">
             <div class="card-content">
               <div class="row">
                <form class="col s12" >
                  <div class="row">
                    <div class="input-field col s12">
                      <input  id="first_name" type="text" class="validate" required>
                      <label for="first_name">First Name</label>
                    </div>
                    <div class="input-field col s12">
                      <input  id="last_name" type="text" class="validate" required>
                      <label for="last_name">Last Name</label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="input-field col s12 active">
                      <input id="dob" type="date" class="validate" required>
                      <label for="date">DOB</label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="input-field col s12 active">
                      <input  id="anniversaryDate" type="date" class="validate" required>
                      <label for="anniversaryDate">Anniversary Date</label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="input-field col s12 active">
                      <input type="tel"  id="phone" class="validate" name="phone" placeholder="971-0000000" pattern="[0-9]{3}-[0-9]{9}"  required />
                      <label for="mobileNumber">Mobile Number</label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="input-field col s12">
                      <input  id="email" type="email" class="validate" required>
                      <label for="email">Email</label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="input-field col s12">
                      <input  id="gender" type="text" class="validate" pattern="M||F" required>
                      <label for="gender">Gender(M/F)</label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="input-field col s12">
                      <input  id="language" type="text" class="validate" pattern="[A-z]{2}" required>
                      <label for="language">Language(Ar)</label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="input-field col s12">
                      <input  id="country" type="text" class="validate" pattern="[A-Z]{2}" required>
                      <label for="country">Prefcountry</label>
                    </div>
                  </div>
                  <div class="row">
                    <button class="btn waves-effect waves-light" type="submit" onclick="registeruser()">Submit
                    </button>
                </div>
                </form>
              </div>

           </div>
         </div>
     </div>
   </div>





   <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>

    </body>


    <script>



    function registeruser() {
      let firstName = $("#first_name").val();
      let lastName = $("#last_name").val();
      let dateOfBirth = $("#dob").val();
      let anniversaryDate = $("#anniversaryDate").val();
      let mobileNumber = $("#phone").val();
      var newMobileNumber = mobileNumber.replace(/\-/g, '');
      let emailID = $("#email").val();
      let gender = $("#gender").val();
      let language = $("#language").val();
      let prefferedCountry = $("#country").val();


      var body = {
        "firstname" : firstName,
        "lastname" : lastName,
        "dob" : dateOfBirth,
        "anniversarydate" : anniversaryDate,
        "mobileno" : newMobileNumber,
        "emailid" : emailID,
        "gender" : gender,
        "language" : language,
        "platform" : "Tablet",
        "prefcountry" : prefferedCountry,
        "storeid" : "20342",
        "createdon" : new Date($.now())
      };
        console.log(JSON.stringify(body));


    $.ajax({type: "POST",url: 'https://dxbuatco.kojamjoom.com:7007/ords/kojws/koj/regcustomer',data: JSON.stringify(body),success: function(result) {
    console.log(result);
    alert(result);
    alert(result.message);
      },
      contentType: 'application/json'
    });

    }


    </script>
    </html>
